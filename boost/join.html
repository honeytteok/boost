<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <form id = "form">
    <input type = "text " id ="input">
    <button>확인</button>
</form>
<div id ="logs"></div>
<script>
    const $input = document.querySelector('#input');
    const $form = document.querySelector('#form');
    const $logs = document.querySelector('#logs');

    const numbers = []; 
    for (let n = 0; n <9; n += 1){
        numbers.push(n+1);
    }
    const answer=[];
    for (let n = 0; n <4; n+= 1){
        const index = Math.floor(Math.random() * numbers.length);
        answer.push(numbers[index]);
        numbers.splice(index, 1);
    }
    console.log(answer); 

    const tries =[];
    function checkInput(input) {

    }
    $form.addEventListener('submit', (event) => {
        event.preventDefault();
        const value = $input.value;
        $input.value='';
        if(!checkInput (value)) {
            return;
            
            if(answer.join('') === value){ //3146, 
                $logs.textContent = '홈런!';
                return;

            }
            if (tries.length >= 9){
                const message = document.createTextNode("맞아요! 정답은 $(answer.join('')}');
                $logs.appendChild(message);//textNode를 만들어주고 어펜드 차일드 해야하는 데 불편한 점이 많았다 어펜드 차일드가  존재하고 실제로 많이 쓰임다. createtext노들를 만들 필요가 없다! textcontent innerhtml 사용하면 된다! 

                return;

            }
            //몇 스트라이크 몇볼인지 검사 
    
        let strike = 0;
        let ball = 0; 
        //answer : 3146, value :1234 
        for (let i = 0; i < answer.length; i++ ){
            const index = value.indexOf (answer [i]); //인덱스 위칠 발 파악할 것 
            if (index > -1 ) { //일치하는 숫자 발견 //겹치는 게 있으면 -1 인데 겹치는 게 없으면 -1 보다 크다 ! 
            if (index === i ) { //자릿수도 같음 i가 0 부터 시작 index 도 0부터 시작 ! 같은 자리가 있다 같은 자리면 스트라이크 아니면 볼이다 ! 
             strike += 1;
            } else { //숫자만 같음 //계속 반복한다 >찾는다> 인덱스까지 같나> 스트라이크 와 볼 ! 이런식으로 순서도를 그리고 그대로 코드를 옮기시면 된다! 
             ball += 1;
            }
          }
        }
        
        87$logs.append('$(value): $(strike) 스트라이크 $(ball) 볼', document.createElement('br')); //append 에 한번에 여러개 추가가능한단
        tries.push(value);

    }); 
    </script>
    </body>
</html>